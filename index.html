<!DOCTYPE html>
<html>
  <head>
    <title>Face App</title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-analytics.js"></script>
  </head>
  <body>
    <h1>Face app GA test</h1>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyA6WJKLL0oRC0pGmVNho0JP0sOSslib3gY",
        authDomain: "gatest-2a308.firebaseapp.com",
        projectId: "gatest-2a308",
        storageBucket: "gatest-2a308.appspot.com",
        messagingSenderId: "1005290806131",
        appId: "1:1005290806131:web:64653161aa580303a90306",
        measurementId: "G-3FYVLLYHVY",
      };
      firebase.initializeApp(firebaseConfig);
      const analytics = firebase.analytics();

      analytics.logEvent("face_app_test_init", {
        appname: "face",
        user: "RM",
      });

      window.addEventListener(
        "message",
        (e) => {
          console.log("window received message:  " + e.data, e);
          const postMessage = JSON.parse(e?.data);
          console.log("window received message:  ", postMessage);
          analytics.logEvent("face_app_test_window", postMessage);
        },
        false
      );

      document.addEventListener(
        "message",
        (e) => {
          console.log("document received message:  " + e.data, e);
          const postMessage = JSON.parse(e?.data);
          console.log("document received message:  ", postMessage);
          analytics.logEvent("face_app_test_document", postMessage);
        },
        false
      );
    </script>
  </body>
</html>
